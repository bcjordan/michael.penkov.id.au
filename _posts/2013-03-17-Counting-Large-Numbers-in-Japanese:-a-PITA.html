---           
layout: post
title: Counting Large Numbers in Japanese - a PITA
date: 2013-03-17 03:25:16 UTC
updated: 2013-03-17 03:25:16 UTC
comments: false
categories: blog
---
 
In Japan, the units people use to represent large numbers such as currency differ significantly to the "rest of the world". &nbsp;Most people are used to decimal units that increase in powers of 3: thousands ($10^3$), millions ($10^6$), billions ($10^9$), trillions ($10^{12}$). &nbsp;This system, known as the <a href="http://en.wikipedia.org/wiki/Long_and_short_scales">short scale</a>, is also consistent with how numbers are written: as triplets, with a <a href="http://en.wikipedia.org/wiki/Thousands_separator#Digit_grouping">separator</a>&nbsp;(such as a space, comma or otherwise). &nbsp;Hundreds are a bit of an exception to this pattern.<br /><br />In Japan, they also have hundreds, but beyond that, the units increase in powers of 4: ten thousand ($10^4$), 100 million ($10^8$), trillion ($10^{12}$). &nbsp;Unsurprisingly, they have names for these units, too: man (万), oku (憶), and chou (兆), respectively. &nbsp;They also have thousands ($10^3$), but that's kind of an exception. &nbsp;They also have the infamous hyaku-man (百万), the hundred ten-thousands. &nbsp;You may know that as a million. &nbsp;Despite this "power of four" rule, the Japanese still write numbers as triplets, except using their own units: for example, car prices are often written as 123,000万円 (or 12.3億円, depending on the psychological trick the car dealership believes in). &nbsp;For a non-Japanese person, that's 1,230,000,000 or 1.23 billion yen. &nbsp;Simple, right? &nbsp;All you need to do is mentally add a couple of zeros, shift the commas across, regroup the zeros...<br /><div><br /></div><div><div>Wrong. &nbsp;I mess this up all the time, like when I'm reading the news or shopping around for my next BMW. &nbsp;It happens frequently enough to be frustrating, but not frequently enough to learn my lesson. So, behold: I give you the "The Decimator": a JavaScript that converts Japanese numbers to our familiar decimal notation.</div></div><input id="multiplicand" onchange="updateResult()" oninput="updateResult()" type="number" value="1" />    <select id="multiplier" onchange="updateResult()">      <option value="10000">万</option>      <option value="1000000">百万</option>      <option value="100000000">憶</option>      <option value="1000000000000">兆</option>    </select>    =     <input id="result" readonly="true" value="10 thousand" />     <script>      function updateResult() {         var multiplicand = parseFloat(document.getElementById("multiplicand").value, 10);         var multiplier = parseInt(document.getElementById("multiplier").value, 10);         var product = multiplier*multiplicand;         var divisors = {1e12: "trillion", 1e9: "billion", 1e6: "million", 1e3: "thousand"};         var sorted = Object.keys(divisors);         sorted.sort();         sorted.reverse();         for (var i = 0; i < sorted.length; ++i) {           var result = product/sorted[i];           if (result >= 0.5) {             document.getElementById("result").value = result + " " + divisors[sorted[i]];             break;           }         }       }     </script>
